<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>2048 Game</title>
<style>
body { text-align:center; font-family:Arial, sans-serif }
#game-container { width: 500px; margin: 20px auto; }
#score-container { margin-bottom: 20px; }
.grid-container { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; background: #bbada0; padding: 10px; border-radius: 10px; }
.grid-cell { background: rgba(238, 228, 218, 0.35); width: 100px; height: 100px; display: flex; justify-content: center; align-items: center; border-radius: 5px; }
.tile { display: flex; justify-content: center; align-items: center; width: 100%; height: 100%; position: absolute; border-radius: 5px; transition: transform 100ms ease-in-out; }
.tile[data-value="2"] { background: #eee4da; color: #776e65; }
.tile[data-value="4"] { background: #ede0c8; color: #776e65; }
.tile[data-value="8"] { background: #f2b179; color: #f9f6f2; }
.tile[data-value="16"] { background: #f59563; color: #f9f6f2; }
.tile[data-value="32"] { background: #f67c5f; color: #f9f6f2; }
.tile[data-value="64"] { background: #f65e3b; color: #f9f6f2; }
.tile[data-value="128"] { background: #edcf72; color: #f9f6f2; }
.tile[data-value="256"] { background: #edcc61; color: #f9f6f2; }
.tile[data-value="512"] { background: #edc850; color: #f9f6f2; }
.tile[data-value="1024"] { background: #edc53f; color: #f9f6f2; }
.tile[data-value="2048"] { background: #edc22e; color: #f9f6f2; }
</style>
</head>
<body>
<div id="game-container">
<div id="score-container">Score: <span id="score">0</span></div>
<div class="grid-container">
<div class="grid-cell" id="cell-0-0"></div>
<div class="grid-cell" id="cell-0-1"></div>
<div class="grid-cell" id="cell-0-2"></div>
<div class="grid-cell" id="cell-0-3"></div>
<div class="grid-cell" id="cell-1-0"></div>
<div class="grid-cell" id="cell-1-1"></div>
<div class="grid-cell" id="cell-1-2"></div>
<div class="grid-cell" id="cell-1-3"></div>
<div class="grid-cell" id="cell-2-0"></div>
<div class="grid-cell" id="cell-2-1"></div>
<div class="grid-cell" id="cell-2-2"></div>
<div class="grid-cell" id="cell-2-3"></div>
<div class="grid-cell" id="cell-3-0"></div>
<div class="grid-cell" id="cell-3-1"></div>
<div class="grid-cell" id="cell-3-2"></div>
<div class="grid-cell" id="cell-3-3"></div>
</div>
</div>
<script>
class Game {
constructor(size) {
this.size = size;
this.setup();
}
setup() {
this.grid = Array(this.size).fill().map(() => Array(this.size).fill(null));
this.score = 0;
this.addTile();
this.addTile();
this.updateDisplay();
}
addTile() {
let emptyCells = [];
for (let r = 0; r < this.size; r++) {
for (let c = 0; c < this.size; c++) {
if (this.grid[r][c] === null) emptyCells.push({ r, c });
}
}
if (emptyCells.length > 0) {
let { r, c } = emptyCells[Math.floor(Math.random() * emptyCells.length)];
this.grid[r][c] = Math.random() < 0.9 ? 2 : 4;
}
}
move(direction) {
let moved = false;
let combine = (row) => {
for (let i = 0; i < row.length - 1; i++) {
if (row[i] !== null && row[i] === row[i + 1]) {
row[i] *= 2; this.score += row[i];
row[i + 1] = null; moved = true;
}
}
return row.filter(val => val !== null);
};
let shift = (row) => {
let newRow = combine(row.filter(val => val !== null));
while (newRow.length < this.size) newRow.push(null);
return newRow;
};
for (let i = 0; i < this.size; i++) {
let oldRow, newRow;
switch (direction) {
case 'left':
oldRow = this.grid[i];
newRow = shift(oldRow);
this.grid[i] = newRow;
break;
case 'right':
oldRow = this.grid[i].slice().reverse();
newRow = shift(oldRow).reverse();
this.grid[i] = newRow;
break;
case 'up':
oldRow = this.grid.map(row => row[i]);
newRow = shift(oldRow);
this.grid.forEach((row, idx) => row[i] = newRow[idx]);
break;
case 'down':
oldRow = this.grid.map(row => row[i]).reverse();
newRow = shift(oldRow).reverse();
this.grid.forEach((row, idx) => row[i] = newRow[idx]);
break;
}
}
if (moved) {
this.addTile();
this.updateDisplay();
}
}
updateDisplay() {
document.getElementById("score").textContent = this.score;
for (let r = 0; r < this.size; r++) {
for (let c = 0; c < this.size; c++) {
let cell = document.getElementById(`cell-${r}-${c}`);
cell.innerHTML = "";
if (this.grid[r][c] !== null) {
let tile = document.createElement("div");
tile.className = "tile";
tile.textContent = this.grid[r][c];
tile.dataset.value = this.grid[r][c];
cell.appendChild(tile);
}
}
}
}
}
const game = new Game(4);
document.addEventListener("keydown", (e) => {
switch (e.key) {
case "ArrowLeft": game.move("left"); break;
case "ArrowRight": game.move("right"); break;
case "ArrowUp": game.move("up"); break;
case "ArrowDown": game.move("down"); break;
}
});
</script>
</body>
</html>
<!-- Generated by ChatGPT from prompt:
Write me a complete, finished, playable 2048 in one self-contained HTML page.
-->
